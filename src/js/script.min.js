const back=document.querySelectorAll(".back"),next=document.querySelectorAll(".next"),activeBtn=document.querySelectorAll(".active-btn"),activeBtnText=document.querySelectorAll(".active-btn span"),btnGroup=document.querySelectorAll(".btn-group"),card=document.querySelectorAll(".card"),errorText=document.querySelectorAll(".error-txt"),emailPattern=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,validation=["Cannot leave Empty","Invalid Email"],monthlyPlanPricing=["$6/mo","$8/mo","$12/mo"],yearlyPlanPricing=["$80/yr","$100/yr","$150/yr"],monthlyAddOnPricing=["$2/mo","$3/mo","$4/mo"],yearlyAddOnPricing=["$10/yr","$20/yr","$30/yr"],toggler=document.querySelector("#toggler"),monthlyPlanPrice=document.querySelectorAll("#form2 .price"),monthlyAddOnPrice=document.querySelectorAll("#form3 .price"),monthlyTxt=document.querySelector(".mo"),yearlyTxt=document.querySelector(".yr"),form=document.querySelectorAll(".form"),input=document.querySelectorAll("input"),selectedPlan=document.querySelector(".selected__plan"),selectedPlanPrice=document.querySelector(".selected__plan-price"),selectedAddOn=document.querySelector(".selected__add-on"),selectedAddOnPrice=document.querySelector(".selected__add-on-price"),totalCost=document.querySelector(".total-cost"),totalDuration=document.querySelector(".total-duration"),changePlan=document.querySelector(".change");let checkedOrNot=!0,isNameValidate=!1,isEmailValidate=!1;for(let i=0;i<monthlyPlanPrice.length;i++)toggler.addEventListener("click",()=>{!1==toggler.checked?(monthlyPlanPrice[i].textContent=monthlyPlanPricing[i],monthlyAddOnPrice[i].textContent=monthlyAddOnPricing[i]):(monthlyPlanPrice[i].textContent=yearlyPlanPricing[i],monthlyAddOnPrice[i].textContent=yearlyAddOnPricing[i]),yearlyTxt.classList.toggle("active-color"),monthlyTxt.classList.toggle("active-color")});function nextStep(e){card[e].classList.toggle("hidden"),card[e+1].classList.toggle("hidden"),e<3&&(activeBtn[e+1].classList.toggle("active"),activeBtn[e+1].setAttribute("aria-current","step"),disableAllActiveButtons(e+1))}function backStep(e){card[e].classList.toggle("hidden"),card[e-1].classList.toggle("hidden"),activeBtn[e-1].classList.toggle("active"),activeBtn[e-1].setAttribute("aria-current","step"),btnGroup[e].classList.toggle("active"),disableAllActiveButtons(e-1)}function disableAllActiveButtons(e){for(let t=0;t<activeBtn.length;t++)t!==e&&(activeBtn[t].classList.remove("active"),activeBtn[t].removeAttribute("aria-current"))}function namevalidation(){""===input[0].value?(input[0].classList.add("error"),errorText[0].classList.add("error"),errorText[0].textContent=validation[0],isNameValidate=!1):(input[0].classList.remove("error"),errorText[0].classList.remove("error"),isNameValidate=!0)}function emailValidation(){""===input[1].value?(input[1].classList.add("error"),errorText[1].classList.add("error"),errorText[1].textContent=validation[0],isEmailValidate=!1):input[1].value.match(emailPattern)?(input[1].classList.remove("error"),errorText[1].classList.remove("error"),isEmailValidate=!0):(input[1].classList.add("error"),errorText[1].classList.add("error"),errorText[1].textContent=validation[1],isEmailValidate=!1)}function getsecondAndThirdFormData(){let e=!0==toggler.checked?["Yearly","Year"]:["Monthly","Month"];totalDuration.textContent=`Total (per ${e[1]})`;let t=new FormData(form[1]);for(let[r,l]of t.entries()){var n=`.${l} .plan__name`,a=`.${l} .price`,o=document.querySelector(n).textContent,c=document.querySelector(a).textContent,s=c.match(/\d+/);selectedPlan.textContent=o+`( ${e[0]} )`,selectedPlanPrice.textContent=c}let d=new FormData(form[2]);for(let[u,m]of d.entries()){var y=`.${m} .add-on__name`,g=`.${m} .price`,v=document.querySelector(y).textContent,x=document.querySelector(g).textContent,p=x.match(/\d+/);selectedAddOn.textContent=v,selectedAddOnPrice.textContent=x;var P=parseInt(s)+parseInt(p),P=c.replace(/\d+/,P);totalCost.textContent=P.toString()+""}}function changePlans(){changePlan.addEventListener("click",()=>{card[1].classList.toggle("hidden"),card[3].classList.toggle("hidden")})}form[0].addEventListener("submit",e=>{e.preventDefault(),namevalidation(),emailValidation(),isNameValidate&&isEmailValidate&&nextStep(0)}),form[1].addEventListener("submit",e=>{e.preventDefault(),nextStep(1)}),form[2].addEventListener("submit",e=>{e.preventDefault(),getsecondAndThirdFormData(),changePlans(),nextStep(2)}),form[3].addEventListener("submit",e=>{e.preventDefault(),nextStep(3)});